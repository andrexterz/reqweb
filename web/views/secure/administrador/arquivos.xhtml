<ui:composition template="administrador.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="componentTitle">#{msg.arquivos}</ui:define>
    <ui:define name="content">
        <script>
            $(document).ready(function() {
                jQuery("#arquivosLnk").addClass("menuItemSelected");
            });
        </script>
        <ui:include src="disciplinasForm.xhtml" />
        <ui:include src="excluiDisciplinaForm.xhtml" />
        <h:form class="contentTables" id="arquivoForm">
            <h:panelGroup layout="block" id="arquivoToolbar" styleClass="arquivoToolbar">
                <p:commandButton title="#{msg.disciplinas}"
                                 value="#{msg.disciplinas}"
                                 process="@this"
                                 update=":disciplinasForm:tableDisciplinas"
                                 oncomplete="PF('dlgDisciplinasFormVar').show()"
                                 icon="ui-icon-search" />
                
                <p:commandButton title="#{msg.turmas}"
                                 value="#{msg.turmas}"
                                 process="@this"
                                 icon="ui-icon-search" />

                <p:commandButton title="#{msg.indicePrioridade}"
                                 value="#{msg.indicePrioridade}"
                                 process="@this"
                                 icon="ui-icon-search" />                
            </h:panelGroup>
        </h:form>

        <h:panelGroup layout="block" styleClass="formBody contentTables">

            <h:form id="arquivosTurmasForm" enctype="multipart/form-data">
                <h:panelGroup id="disciplinas" layout="block">
                    <h:outputLabel for="inputDisciplinas" value="#{msg.disciplinas}" />
                    <p:commandButton title="#{msg.disciplinasPrevisualizar}"
                                     icon="ui-icon-zoomin"
                                     styleClass="arquivoPreviewIcon"
                                      />
                    <p:fileUpload id="inputDisciplinas"
                                  label="#{msg.selecionar}"
                                  uploadLabel="#{msg.enviar}"
                                  cancelLabel="#{msg.cancelar}"
                                  fileLimit="1"
                                  multiple="false"
                                  process="@form"                              
                                  fileUploadListener="#{disciplinaBean.uploadDisciplinas}"
                                  update=":formHeader:systemMessages disciplinas" />
                </h:panelGroup>
            </h:form>
            <hr class="separator" />
            <h:form id="arquivosDisciplinasForm" enctype="multipart/form-data">
                <h:panelGroup id="turmas" layout="block">
                    <h:outputLabel for="inputTurmas" value="#{msg.turmas}" />
                    <p:fileUpload id="inputTurmas"
                                  label="#{msg.selecionar}"
                                  uploadLabel="#{msg.enviar}"
                                  cancelLabel="#{msg.cancelar}"
                                  fileLimit="1"
                                  multiple="false"
                                  process="@form"
                                  fileUploadListener="#{arquivoBean.uploadTurmas}"
                                  update=":formHeader:systemMessages turmas" />
                </h:panelGroup>
            </h:form>                
            <hr class="separator" />
            <h:form id="arquivosPeriodoForm" enctype="multipart/form-data">
                <h:panelGroup id="indicePrioridade" layout="block">
                    <h:panelGrid columns="1" styleClass="formGrid">
                        <!--
                        <h:outputLabel for="inputPeriodo" value="#{msg.periodoAjuste}" />
                        <p:selectOneMenu id="inputPeriodo" value="#{arquivoBean.periodo.id}" valueChangeListener="#{arquivoBean.selecionaPeriodo}">
                            <f:selectItems value="#{periodoBean.periodos}" var="p"
                                           itemLabel="#{p}" itemValue="#{p.id}"  />
                            <p:ajax process="@this" update=":formHeader:systemMessages" />
                        </p:selectOneMenu>
                        -->
                        <h:outputLabel for="inputIndicePrioridade" value="#{msg.indicePrioridade}" />
                        <p:fileUpload id="inputIndicePrioridade"
                                      label="#{msg.selecionar}"
                                      uploadLabel="#{msg.enviar}"
                                      cancelLabel="#{msg.cancelar}"
                                      fileLimit="1"
                                      multiple="false"
                                      process="@this"
                                      fileUploadListener="#{arquivoBean.uploadIndicePrioridade}"
                                      update=":formHeader:systemMessages arquivosPeriodoForm" />
                    </h:panelGrid>
                </h:panelGroup>
            </h:form>
        </h:panelGroup>        
    </ui:define>
</ui:composition>

