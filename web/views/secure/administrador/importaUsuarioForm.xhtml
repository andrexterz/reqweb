<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:form id="usuarioLDAPForm">
        <p:confirmDialog id="dlgImpUsuarioLDAPDialog" 
                         widgetVar="importaUsuarioLDAPDialog"
                         width="360"
                         header="#{msg.usuarioImportaLDAP}"
                         message="#{msg.usuarioMensagemLDAP}?"
                         appendTo="@(body)">

            <h:panelGrid columns="2" styleClass="usuarioImp" columnClasses="usuarioImpColA, usuarioImpColB">
                <p:progressBar id="progressBarUsuario"
                               interval="1000"
                               ajax="true"
                               widgetVar="pbImpUsuario"
                               value="#{usuarioBean.progress}"
                               labelTemplate="{value}%">
                    <!--p:ajax oncomplete="PF('importButton').enable()" /-->
                </p:progressBar>
                <p:commandButton value="#{msg.cancelar}" action="#{usuarioBean.cancelImpUsuarios()}" styleClass="alignRight cancel"  />
            </h:panelGrid>
            <h:panelGroup layout="block" styleClass="alignCenter formFooterButtons">
                <p:commandButton id="confirmaImpUsuario" value="#{msg.sim}"
                                 widgetVar="importButton"
                                 onclick="progressBarHandler()"
                                 oncomplete="importaUsuarioLDAPDialog.hide()"
                                 action="#{usuarioBean.importaUsuarios}"
                                 process="@this"
                                 update=":usuarioLDAPForm:progressBarUsuario :usuarioForm:tableUsuarios :formHeader:systemMessages" />
                <p:commandButton id="cancelaImpUsuario"
                                 value="#{msg.nao}"
                                 onclick="importaUsuarioLDAPDialog.hide()" 
                                 type="button" /> 
            </h:panelGroup>
        </p:confirmDialog>
    </h:form>
</ui:composition>

